#########################
# Inspired by https://github.com/networkupstools/nut/issues/2890 and
# https://alioth-lists.debian.net/pipermail/nut-upsuser/2025-April/013928.html
#########################

# Network UPS Tools - upssched.conf sample file for NIT suite
# Note: template values are substituted by nit.sh, not during configure/build

CMDSCRIPT @TOP_BUILDDIR@/clients/upssched-cmd

PIPEFN @NUT_STATEPATH@/upssched.pipe
LOCKFN @NUT_STATEPATH@/upssched.lock

# ============================================================================
# info2client
AT ONLINE * EXECUTE ONLINE
# info2admin only
AT ONLINE * CANCEL-TIMER BATT-STATUS-1s
AT ONLINE * CANCEL-TIMER BATT-STATUS-2s
AT ONLINE * CANCEL-TIMER BATT-STATUS-5s
AT ONLINE * CANCEL-TIMER BATT-STATUS-15s
AT ONLINE * CANCEL-TIMER BATT-STATUS-5
AT ONLINE * CANCEL-TIMER BATT-STATUS-10
AT ONLINE * CANCEL-TIMER BATT-STATUS-15
AT ONLINE * CANCEL-TIMER BATT-STATUS-20
AT ONLINE * CANCEL-TIMER BATT-STATUS-25
AT ONLINE * CANCEL-TIMER BATT-STATUS-30
AT ONLINE * CANCEL-TIMER BATT-STATUS-60
AT ONLINE * START-TIMER LINE-STATUS-1s 1
AT ONLINE * START-TIMER LINE-STATUS-2s 2
AT ONLINE * START-TIMER LINE-STATUS-5s 5
AT ONLINE * START-TIMER LINE-STATUS-15s 15
AT ONLINE * START-TIMER LINE-STATUS-5 300
AT ONLINE * START-TIMER LINE-STATUS-10 600
AT ONLINE * START-TIMER LINE-STATUS-15 900
AT ONLINE * START-TIMER LINE-STATUS-20 1200
AT ONLINE * START-TIMER LINE-STATUS-25 1500
AT ONLINE * START-TIMER LINE-STATUS-30 1800
AT ONLINE * START-TIMER LINE-STATUS-60 3600
#
# info2client
AT ONBATT * EXECUTE ONBATT
# info2admin only
AT ONBATT * CANCEL-TIMER LINE-STATUS-1s
AT ONBATT * CANCEL-TIMER LINE-STATUS-2s
AT ONBATT * CANCEL-TIMER LINE-STATUS-5s
AT ONBATT * CANCEL-TIMER LINE-STATUS-15s
AT ONBATT * CANCEL-TIMER LINE-STATUS-5
AT ONBATT * CANCEL-TIMER LINE-STATUS-10
AT ONBATT * CANCEL-TIMER LINE-STATUS-15
AT ONBATT * CANCEL-TIMER LINE-STATUS-20
AT ONBATT * CANCEL-TIMER LINE-STATUS-25
AT ONBATT * CANCEL-TIMER LINE-STATUS-30
AT ONBATT * CANCEL-TIMER LINE-STATUS-60
AT ONBATT * START-TIMER BATT-STATUS-1s 1
AT ONBATT * START-TIMER BATT-STATUS-2s 2
AT ONBATT * START-TIMER BATT-STATUS-5s 5
AT ONBATT * START-TIMER BATT-STATUS-15s 15
AT ONBATT * START-TIMER BATT-STATUS-5 300
AT ONBATT * START-TIMER BATT-STATUS-10 600
AT ONBATT * START-TIMER BATT-STATUS-15 900
AT ONBATT * START-TIMER BATT-STATUS-20 1200
AT ONBATT * START-TIMER BATT-STATUS-25 1500
AT ONBATT * START-TIMER BATT-STATUS-30 1800
AT ONBATT * START-TIMER BATT-STATUS-60 3600
# ***

#########################

# info2client
AT REPLBATT * ONBATT * EXECUTE REPLBATT
AT NOCOMM * EXECUTE NOCOMM
AT FSD * EXECUTE FSD
AT SHUTDOWN * EXECUTE SHUTDOWN

# info2admin only
AT LOWBATT * EXECUTE LOWBATT-INFO
AT COMMOK * EXECUTE COMMOK-INFO
AT COMMBAD * EXECUTE COMMBAD-INFO

#########################
